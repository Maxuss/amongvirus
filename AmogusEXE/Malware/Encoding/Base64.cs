using System;
using System.Text;

namespace AmogusEXE.Malware.Encoding
{
    public enum Base64Encoder
    {
        Encode,
        Decode
    }
    
    public sealed class Base64
    {
        private string Encode(string @string)
        {
            byte[] bytes = System.Text.Encoding.UTF8.GetBytes(@string);
            return Convert.ToBase64String(bytes);
        }
        private string Decode(string @string)
        {
            byte[] bytes = Convert.FromBase64String(@string);
            return System.Text.Encoding.UTF8.GetString(bytes);
        }

        public string OperatedData { get; }
        
        public Base64(string data, Base64Encoder e)
        {
            switch (e)
            {
                case Base64Encoder.Encode:
                    OperatedData = Encode(data);
                    break;
                case Base64Encoder.Decode:
                    OperatedData = Decode(data);
                    break;
                default:
                    goto case Base64Encoder.Encode;
            }
        }
    }
}